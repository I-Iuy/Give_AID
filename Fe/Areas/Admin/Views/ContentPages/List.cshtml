@model List<Fe.DTOs.ContentPages.ContentPageDto>

@{
    ViewData["Title"] = "Manage Pages"; // Page title used in layout
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml"; // Shared admin layout
}

<!-- Main container for managing content pages -->
<div class="container-fluid px-4">

    <!-- Page heading -->
    <h1 class="mt-4">Manage Content Pages</h1>

    <!-- Breadcrumb navigation -->
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item">
            <a asp-area="Admin" asp-controller="Dashboard" asp-action="Index">Dashboard</a>
        </li>
        <li class="breadcrumb-item active">Content Pages</li>
    </ol>

    <!-- Add new page button -->
    <div class="mb-3">
        <a asp-action="Add" class="btn btn-success">
            <i class="fas fa-plus"></i> Add New Page
        </a>
    </div>

    <!-- Card component wrapping the table -->
    <div class="card shadow mb-4">

        <!-- Card header -->
        <div class="card-header bg-primary text-white fw-bold">
            <i class="fas fa-file-alt me-2"></i>Page List
        </div>

        <!-- Card body containing table -->
        <div class="card-body">

            <!-- Table to display content page entries -->
            <table id="contentPagesTable" class="table table-bordered table-striped">
                <thead class="table-light">
                    <tr>
                        <th style="width: 40%">Title</th> <!-- Page title -->
                        <th style="width: 40%">Slug</th> <!-- SEO-friendly URL -->
                        <th style="width: 20%">Actions</th> <!-- Edit actions -->
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.Title</td>
                            <td>@item.Slug</td>
                            <td>
                                <!-- Edit button -->
                                <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-sm btn-warning me-2">
                                    <i class="fas fa-edit"></i> Edit
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>

        </div>
    </div>
</div>

<!-- Scripts section for this view -->
@section Scripts {
    <!-- Simple-DataTables library for table sorting/search/pagination -->
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2" defer></script>

    <script>
        // Initialize Simple-DataTable once DOM is fully loaded
        document.addEventListener("DOMContentLoaded", function () {
            const table = document.querySelector("#contentPagesTable");
            if (table) {
                new simpleDatatables.DataTable(table);
            }
        });
    </script>
}
